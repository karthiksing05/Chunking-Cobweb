<!doctype html>
    <html>
    <head>
    <meta charset="utf-8"/>
    <title>Parse Tree</title>
    <style>
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    #tree-container { display: inline-block; }
    .link { fill: none; stroke: #9aa1a9; stroke-width: 1.5px; }
    .node-box { stroke: #444; fill: #fff; rx: 8; ry: 8; filter: drop-shadow(1px 2px 2px rgba(0,0,0,0.15)); }
    .node-fo table { border-collapse: collapse; font-size: 12px; margin: 4px 0; }
    .node-fo th, .node-fo td { border: 1px solid #888; padding: 2px 6px; }
    .node-fo th { background: #f3f5f7; font-weight: 600; }
    .section-title { font-weight: bold; margin-top: 4px; }
    .section { margin-top: 10px; margin-bottom: 10px; }
    .subtable b { display: inline-block; margin: 6px 0 2px; }
    .subtable table { border-collapse: collapse; }
    .subtable td { border: 1px solid #bbb; padding: 1px 4px; }
    </style>
    </head>
    <body>
    <div id="tree-container">
    <div id="tree"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script>
    const data = {"title": "9cd8a539ec", "left": [], "right": [], "before": [], "after": [], "children": [{"title": "e729e6d557", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.017241379310344827}, {"key": "CONCEPT-3444995209782625_2", "val": 0.017241379310344827}, {"key": "CONCEPT-3444997320161291_29", "val": 0.017241379310344827}, {"key": "CONCEPT-3445007845552416_1591", "val": 0.017241379310344827}, {"key": "CONCEPT-3445008831490791_2087", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325256375_2161", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325335291_2173", "val": 0.017241379310344827}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.2}, {"key": "CONCEPT-3444995209785708_3", "val": 0.2}, {"key": "CONCEPT-3444996885104916_17", "val": 0.2}, {"key": "CONCEPT-3444997320133333_26", "val": 0.2}, {"key": "CONCEPT-3445011752479791_3828", "val": 0.2}], "before": [[], [], []], "after": [[], [], []], "children": [{"title": "70b30ae927", "left": [{"key": "an", "val": 1.0}], "right": [{"key": "light", "val": 1.0}], "before": [[], [], []], "after": [[{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "children": [{"title": "c49bd2a821", "left": [{"key": "an", "val": 1.0}], "right": [], "before": [], "after": [[{"key": "light", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": []}, {"title": "a53a425408", "left": [{"key": "light", "val": 1.0}], "right": [], "before": [[{"key": "an", "val": 1.0}]], "after": [[{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "children": []}]}, {"title": "0ce0905dff", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.25}, {"key": "CONCEPT-3444995209782625_2", "val": 0.25}, {"key": "CONCEPT-3445003281341500_353", "val": 0.25}, {"key": "CONCEPT-3445012778240333_4193", "val": 0.25}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.04}, {"key": "CONCEPT-3444995209785708_3", "val": 0.04}, {"key": "CONCEPT-3444998428758958_60", "val": 0.04}, {"key": "CONCEPT-3445000279898000_158", "val": 0.04}, {"key": "CONCEPT-3445005808128708_701", "val": 0.04}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.04}, {"key": "CONCEPT-3445007841977208_1448", "val": 0.04}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[], [], []], "children": [{"title": "083f8c48f5", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.022727272727272728}, {"key": "CONCEPT-3444995209785708_3", "val": 0.022727272727272728}, {"key": "CONCEPT-3444996885104916_17", "val": 0.022727272727272728}, {"key": "CONCEPT-3444997320133333_26", "val": 0.022727272727272728}, {"key": "CONCEPT-3445001643027083_232", "val": 0.022727272727272728}, {"key": "CONCEPT-3445001644556916_302", "val": 0.022727272727272728}, {"key": "CONCEPT-3445003280539000_322", "val": 0.022727272727272728}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.02702702702702703}, {"key": "CONCEPT-3444995209782625_2", "val": 0.02702702702702703}, {"key": "CONCEPT-3445003281341500_353", "val": 0.02702702702702703}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.02702702702702703}, {"key": "CONCEPT-3445009326691291_2268", "val": 0.02702702702702703}, {"key": "CONCEPT-3445010279434500_2829", "val": 0.02702702702702703}, {"key": "CONCEPT-3445010777206833_3240", "val": 0.02702702702702703}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[{"key": "dog", "val": 1.0}], [{"key": "runs", "val": 1.0}], []], "children": [{"title": "42e96323fb", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.045454545454545456}, {"key": "CONCEPT-3444995209785708_3", "val": 0.045454545454545456}, {"key": "CONCEPT-3445000279898000_158", "val": 0.045454545454545456}, {"key": "CONCEPT-3445003282563833_404", "val": 0.045454545454545456}, {"key": "CONCEPT-3445006819313000_1003", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840784416_1385", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.045454545454545456}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.04}, {"key": "CONCEPT-3444995209782625_2", "val": 0.04}, {"key": "CONCEPT-3444996885073000_12", "val": 0.04}, {"key": "CONCEPT-3444997320197458_35", "val": 0.04}, {"key": "CONCEPT-3444998428691125_51", "val": 0.04}, {"key": "CONCEPT-3445005808247000_719", "val": 0.04}, {"key": "CONCEPT-3445006318502625_908", "val": 0.04}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": [{"title": "bf7dbdabc5", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.05263157894736842}, {"key": "CONCEPT-3444995209785708_3", "val": 0.05263157894736842}, {"key": "CONCEPT-3445000279898000_158", "val": 0.05263157894736842}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.05263157894736842}, {"key": "CONCEPT-3445008827581291_1894", "val": 0.05263157894736842}, {"key": "CONCEPT-3445008829507416_1987", "val": 0.05263157894736842}, {"key": "CONCEPT-3445009817376083_2746", "val": 0.05263157894736842}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.038461538461538464}, {"key": "CONCEPT-3444995209785708_3", "val": 0.038461538461538464}, {"key": "CONCEPT-3444998428758958_60", "val": 0.038461538461538464}, {"key": "CONCEPT-3445000279898000_158", "val": 0.038461538461538464}, {"key": "CONCEPT-3445005808128708_701", "val": 0.038461538461538464}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.038461538461538464}, {"key": "CONCEPT-3445007841977208_1448", "val": 0.038461538461538464}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "8f66dd2690", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03225806451612903}, {"key": "CONCEPT-3444995209782625_2", "val": 0.03225806451612903}, {"key": "CONCEPT-3445003281341500_353", "val": 0.03225806451612903}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.03225806451612903}, {"key": "CONCEPT-3445009325564000_2201", "val": 0.03225806451612903}, {"key": "CONCEPT-3445010777206833_3240", "val": 0.03225806451612903}, {"key": "CONCEPT-3445011749363083_3795", "val": 0.03225806451612903}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03571428571428571}, {"key": "CONCEPT-3444995209785708_3", "val": 0.03571428571428571}, {"key": "CONCEPT-3444998428758958_60", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000279898000_158", "val": 0.03571428571428571}, {"key": "CONCEPT-3445001644043208_264", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007842259166_1474", "val": 0.03571428571428571}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[{"key": "the", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": [{"title": "507c1776b8", "left": [{"key": "runs", "val": 1.0}], "right": [{"key": "an", "val": 1.0}], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}], []], "after": [[{"key": "pencil", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "the", "val": 1.0}]], "children": [{"title": "decafff358", "left": [{"key": "runs", "val": 1.0}], "right": [], "before": [[{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": []}, {"title": "66dffc0917", "left": [{"key": "an", "val": 1.0}], "right": [], "before": [[{"key": "runs", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "pencil", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "the", "val": 1.0}]], "children": []}]}, {"title": "3d1babd2f4", "left": [{"key": "pencil", "val": 1.0}], "right": [{"key": "or", "val": 1.0}], "before": [[{"key": "an", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "light", "val": 1.0}]], "after": [[{"key": "the", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": [{"title": "ba32e39584", "left": [{"key": "pencil", "val": 1.0}], "right": [], "before": [[{"key": "an", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "light", "val": 1.0}]], "after": [[{"key": "or", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "children": []}, {"title": "60f143d8f1", "left": [{"key": "or", "val": 1.0}], "right": [], "before": [[{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "after": [[{"key": "the", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": []}]}]}, {"title": "ca130585ce", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.025}, {"key": "CONCEPT-3444995209782625_2", "val": 0.025}, {"key": "CONCEPT-3445003281341500_353", "val": 0.025}, {"key": "CONCEPT-3445008324143583_1685", "val": 0.025}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.025}, {"key": "CONCEPT-3445009327808083_2333", "val": 0.025}, {"key": "CONCEPT-3445009329558875_2396", "val": 0.025}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.030303030303030304}, {"key": "CONCEPT-3444995209782625_2", "val": 0.030303030303030304}, {"key": "CONCEPT-3445003281341500_353", "val": 0.030303030303030304}, {"key": "CONCEPT-3445007840677833_1374", "val": 0.030303030303030304}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.030303030303030304}, {"key": "CONCEPT-3445010777206833_3240", "val": 0.030303030303030304}, {"key": "CONCEPT-3445011749363083_3795", "val": 0.030303030303030304}], "before": [[{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "5b7244680b", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.045454545454545456}, {"key": "CONCEPT-3444995209785708_3", "val": 0.045454545454545456}, {"key": "CONCEPT-3445000279898000_158", "val": 0.045454545454545456}, {"key": "CONCEPT-3445003282563833_404", "val": 0.045454545454545456}, {"key": "CONCEPT-3445006819313000_1003", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840784416_1385", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.045454545454545456}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.04}, {"key": "CONCEPT-3444995209782625_2", "val": 0.04}, {"key": "CONCEPT-3444996885073000_12", "val": 0.04}, {"key": "CONCEPT-3444997320197458_35", "val": 0.04}, {"key": "CONCEPT-3444998428691125_51", "val": 0.04}, {"key": "CONCEPT-3445005808247000_719", "val": 0.04}, {"key": "CONCEPT-3445006318502625_908", "val": 0.04}], "before": [[{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "helps", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "children": [{"title": "fa0f0ea829", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.017241379310344827}, {"key": "CONCEPT-3444995209782625_2", "val": 0.017241379310344827}, {"key": "CONCEPT-3444997320161291_29", "val": 0.017241379310344827}, {"key": "CONCEPT-3445007845552416_1591", "val": 0.017241379310344827}, {"key": "CONCEPT-3445008831490791_2087", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325256375_2161", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325335291_2173", "val": 0.017241379310344827}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.045454545454545456}, {"key": "CONCEPT-3444995209785708_3", "val": 0.045454545454545456}, {"key": "CONCEPT-3445000279898000_158", "val": 0.045454545454545456}, {"key": "CONCEPT-3445003282563833_404", "val": 0.045454545454545456}, {"key": "CONCEPT-3445006819313000_1003", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840784416_1385", "val": 0.045454545454545456}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.045454545454545456}], "before": [[{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": [{"title": "7b8d29fb9b", "left": [{"key": "the", "val": 1.0}], "right": [{"key": "typewriter", "val": 1.0}], "before": [[{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "runs", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": [{"title": "cf7904ba61", "left": [{"key": "the", "val": 1.0}], "right": [], "before": [[{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "typewriter", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "and", "val": 1.0}]], "children": []}, {"title": "e221a9e135", "left": [{"key": "typewriter", "val": 1.0}], "right": [], "before": [[{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "after": [[{"key": "runs", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": []}]}, {"title": "c225b17467", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.025}, {"key": "CONCEPT-3444995209782625_2", "val": 0.025}, {"key": "CONCEPT-3445003281341500_353", "val": 0.025}, {"key": "CONCEPT-3445008324143583_1685", "val": 0.025}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.025}, {"key": "CONCEPT-3445009327808083_2333", "val": 0.025}, {"key": "CONCEPT-3445009329558875_2396", "val": 0.025}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.2}, {"key": "CONCEPT-3444995209785708_3", "val": 0.2}, {"key": "CONCEPT-3445000279898000_158", "val": 0.2}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.2}, {"key": "CONCEPT-3445012780989041_4235", "val": 0.2}], "before": [[{"key": "typewriter", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": [{"title": "98fde91dd3", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03225806451612903}, {"key": "CONCEPT-3444995209782625_2", "val": 0.03225806451612903}, {"key": "CONCEPT-3445003281341500_353", "val": 0.03225806451612903}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.03225806451612903}, {"key": "CONCEPT-3445009325564000_2201", "val": 0.03225806451612903}, {"key": "CONCEPT-3445010777206833_3240", "val": 0.03225806451612903}, {"key": "CONCEPT-3445011749363083_3795", "val": 0.03225806451612903}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.017241379310344827}, {"key": "CONCEPT-3444995209782625_2", "val": 0.017241379310344827}, {"key": "CONCEPT-3444997320161291_29", "val": 0.017241379310344827}, {"key": "CONCEPT-3445007845552416_1591", "val": 0.017241379310344827}, {"key": "CONCEPT-3445008831490791_2087", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325256375_2161", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325335291_2173", "val": 0.017241379310344827}], "before": [[{"key": "typewriter", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "makes", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": [{"title": "41724da896", "left": [{"key": "runs", "val": 1.0}], "right": [{"key": "and", "val": 1.0}], "before": [[{"key": "typewriter", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "makes", "val": 1.0}]], "children": [{"title": "6ec5b56ce2", "left": [{"key": "runs", "val": 1.0}], "right": [], "before": [[{"key": "typewriter", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "children": []}, {"title": "6d536431d0", "left": [{"key": "and", "val": 1.0}], "right": [], "before": [[{"key": "runs", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "the", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "makes", "val": 1.0}]], "children": []}]}, {"title": "b7e54420a0", "left": [{"key": "an", "val": 1.0}], "right": [{"key": "woman", "val": 1.0}], "before": [[{"key": "and", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "after": [[{"key": "makes", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": [{"title": "3e3c740c7c", "left": [{"key": "an", "val": 1.0}], "right": [], "before": [[{"key": "and", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "after": [[{"key": "woman", "val": 1.0}], [{"key": "makes", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": []}, {"title": "9f9106e4e6", "left": [{"key": "woman", "val": 1.0}], "right": [], "before": [[{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "after": [[{"key": "makes", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": []}]}]}, {"title": "12e9bede59", "left": [{"key": "makes", "val": 1.0}], "right": [{"key": "or", "val": 1.0}], "before": [[{"key": "woman", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": [{"title": "2a8f9f953b", "left": [{"key": "makes", "val": 1.0}], "right": [], "before": [[{"key": "woman", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}]], "after": [[{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "children": []}, {"title": "22dd5f3228", "left": [{"key": "or", "val": 1.0}], "right": [], "before": [[{"key": "makes", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": []}]}]}]}, {"title": "a3fa2f4117", "left": [{"key": "a", "val": 1.0}], "right": [{"key": "woman", "val": 1.0}], "before": [[{"key": "or", "val": 1.0}], [{"key": "makes", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "after": [[{"key": "helps", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "children": [{"title": "7fbd5819dd", "left": [{"key": "a", "val": 1.0}], "right": [], "before": [[{"key": "or", "val": 1.0}], [{"key": "makes", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "after": [[{"key": "woman", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": []}, {"title": "65dc1930b4", "left": [{"key": "woman", "val": 1.0}], "right": [], "before": [[{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "makes", "val": 1.0}]], "after": [[{"key": "helps", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "children": []}]}]}, {"title": "57f62ddcae", "left": [{"key": "helps", "val": 1.0}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.022727272727272728}, {"key": "CONCEPT-3444995209785708_3", "val": 0.022727272727272728}, {"key": "CONCEPT-3444996885104916_17", "val": 0.022727272727272728}, {"key": "CONCEPT-3444997320133333_26", "val": 0.022727272727272728}, {"key": "CONCEPT-3445001643027083_232", "val": 0.022727272727272728}, {"key": "CONCEPT-3445001644556916_302", "val": 0.022727272727272728}, {"key": "CONCEPT-3445003280539000_322", "val": 0.022727272727272728}], "before": [[{"key": "woman", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "5007a08296", "left": [{"key": "helps", "val": 1.0}], "right": [], "before": [[{"key": "woman", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": []}, {"title": "6da4dabf2a", "left": [{"key": "a", "val": 1.0}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.043478260869565216}, {"key": "CONCEPT-3444995209785708_3", "val": 0.043478260869565216}, {"key": "CONCEPT-3444998428758958_60", "val": 0.043478260869565216}, {"key": "CONCEPT-3445000279898000_158", "val": 0.043478260869565216}, {"key": "CONCEPT-3445001644043208_264", "val": 0.043478260869565216}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.043478260869565216}, {"key": "CONCEPT-3445008325830708_1789", "val": 0.043478260869565216}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "d625cf5557", "left": [{"key": "a", "val": 1.0}], "right": [], "before": [[{"key": "helps", "val": 1.0}], [{"key": "woman", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "typewriter", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "the", "val": 1.0}]], "children": []}, {"title": "e60e503e36", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03571428571428571}, {"key": "CONCEPT-3444995209785708_3", "val": 0.03571428571428571}, {"key": "CONCEPT-3444998428758958_60", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000279898000_158", "val": 0.03571428571428571}, {"key": "CONCEPT-3445001644043208_264", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007842259166_1474", "val": 0.03571428571428571}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03571428571428571}, {"key": "CONCEPT-3444995209785708_3", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000277978666_98", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000279898000_158", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000280274125_184", "val": 0.03571428571428571}, {"key": "CONCEPT-3445003283105625_441", "val": 0.03571428571428571}, {"key": "CONCEPT-3445005806999000_652", "val": 0.03571428571428571}], "before": [[{"key": "a", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "f276359ad5", "left": [{"key": "typewriter", "val": 1.0}], "right": [{"key": "or", "val": 1.0}], "before": [[{"key": "a", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "after": [[{"key": "the", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "watches", "val": 1.0}]], "children": [{"title": "3c7ca79dc1", "left": [{"key": "typewriter", "val": 1.0}], "right": [], "before": [[{"key": "a", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "woman", "val": 1.0}]], "after": [[{"key": "or", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "children": []}, {"title": "d644d7e377", "left": [{"key": "or", "val": 1.0}], "right": [], "before": [[{"key": "typewriter", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "after": [[{"key": "the", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "watches", "val": 1.0}]], "children": []}]}, {"title": "5d27e14e7e", "left": [{"key": "the", "val": 1.0}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.037037037037037035}, {"key": "CONCEPT-3444995209785708_3", "val": 0.037037037037037035}, {"key": "CONCEPT-3444998428758958_60", "val": 0.037037037037037035}, {"key": "CONCEPT-3445000279898000_158", "val": 0.037037037037037035}, {"key": "CONCEPT-3445005808130458_702", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007323326583_1293", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.037037037037037035}], "before": [[{"key": "or", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "1bf6a9664e", "left": [{"key": "the", "val": 1.0}], "right": [], "before": [[{"key": "or", "val": 1.0}], [{"key": "typewriter", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "pencil", "val": 1.0}], [{"key": "watches", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": []}, {"title": "2f32ecd2b5", "left": [{"key": "pencil", "val": 1.0}], "right": [{"key": "watches", "val": 1.0}], "before": [[{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": [{"title": "194d5ea1db", "left": [{"key": "pencil", "val": 1.0}], "right": [], "before": [[{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "typewriter", "val": 1.0}]], "after": [[{"key": "watches", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": []}, {"title": "60b6942687", "left": [{"key": "watches", "val": 1.0}], "right": [], "before": [[{"key": "pencil", "val": 1.0}], [{"key": "the", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}]], "children": []}]}]}]}]}]}]}]}, {"title": "b0f0331556", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.017241379310344827}, {"key": "CONCEPT-3444995209782625_2", "val": 0.017241379310344827}, {"key": "CONCEPT-3444997320161291_29", "val": 0.017241379310344827}, {"key": "CONCEPT-3445007845552416_1591", "val": 0.017241379310344827}, {"key": "CONCEPT-3445008831490791_2087", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325256375_2161", "val": 0.017241379310344827}, {"key": "CONCEPT-3445009325335291_2173", "val": 0.017241379310344827}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.0136986301369863}, {"key": "CONCEPT-3444995209785708_3", "val": 0.0136986301369863}, {"key": "CONCEPT-3444996885104916_17", "val": 0.0136986301369863}, {"key": "CONCEPT-3444997320131583_25", "val": 0.0136986301369863}, {"key": "CONCEPT-3445000277912333_91", "val": 0.0136986301369863}, {"key": "CONCEPT-3445001644147458_279", "val": 0.0136986301369863}, {"key": "CONCEPT-3445008327034041_1852", "val": 0.0136986301369863}], "before": [[{"key": "watches", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "the", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": [{"title": "f4ddaa1c59", "left": [{"key": "a", "val": 1.0}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.043478260869565216}, {"key": "CONCEPT-3444995209785708_3", "val": 0.043478260869565216}, {"key": "CONCEPT-3444998428758958_60", "val": 0.043478260869565216}, {"key": "CONCEPT-3445000279898000_158", "val": 0.043478260869565216}, {"key": "CONCEPT-3445001644043208_264", "val": 0.043478260869565216}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.043478260869565216}, {"key": "CONCEPT-3445008325830708_1789", "val": 0.043478260869565216}], "before": [[{"key": "watches", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "the", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": [{"title": "ef088eff74", "left": [{"key": "a", "val": 1.0}], "right": [], "before": [[{"key": "watches", "val": 1.0}], [{"key": "pencil", "val": 1.0}], [{"key": "the", "val": 1.0}]], "after": [[{"key": "earring", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": []}, {"title": "fac0ca7e8c", "left": [{"key": "earring", "val": 1.0}], "right": [{"key": "or", "val": 1.0}], "before": [[{"key": "a", "val": 1.0}], [{"key": "watches", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": [{"title": "2d757a1723", "left": [{"key": "earring", "val": 1.0}], "right": [], "before": [[{"key": "a", "val": 1.0}], [{"key": "watches", "val": 1.0}], [{"key": "pencil", "val": 1.0}]], "after": [[{"key": "or", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "light", "val": 1.0}]], "children": []}, {"title": "3cf032368a", "left": [{"key": "or", "val": 1.0}], "right": [], "before": [[{"key": "earring", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "watches", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "children": []}]}]}, {"title": "79743f82ce", "left": [{"key": "a", "val": 1.0}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03571428571428571}, {"key": "CONCEPT-3444995209785708_3", "val": 0.03571428571428571}, {"key": "CONCEPT-3444998428758958_60", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000279898000_158", "val": 0.03571428571428571}, {"key": "CONCEPT-3445001644043208_264", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007842259166_1474", "val": 0.03571428571428571}], "before": [[{"key": "or", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": [{"title": "8ce540d337", "left": [{"key": "a", "val": 1.0}], "right": [], "before": [[{"key": "or", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "light", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "and", "val": 1.0}]], "children": []}, {"title": "0f33088ab2", "left": [{"key": "light", "val": 1.0}], "right": [{"key": "helps", "val": 1.0}], "before": [[{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": [{"title": "0c221bc451", "left": [{"key": "light", "val": 1.0}], "right": [], "before": [[{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "after": [[{"key": "helps", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": []}, {"title": "590ef408eb", "left": [{"key": "helps", "val": 1.0}], "right": [], "before": [[{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "or", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "children": []}]}]}]}]}, {"title": "ac0330d44c", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.037037037037037035}, {"key": "CONCEPT-3444995209785708_3", "val": 0.037037037037037035}, {"key": "CONCEPT-3444998428758958_60", "val": 0.037037037037037035}, {"key": "CONCEPT-3445000279898000_158", "val": 0.037037037037037035}, {"key": "CONCEPT-3445005808130458_702", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007323326583_1293", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.037037037037037035}], "right": [{"key": "a", "val": 1.0}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "dog", "val": 1.0}], [{"key": "runs", "val": 1.0}], []], "children": [{"title": "d8630b116c", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.02631578947368421}, {"key": "CONCEPT-3444995209782625_2", "val": 0.02631578947368421}, {"key": "CONCEPT-3445003281341500_353", "val": 0.02631578947368421}, {"key": "CONCEPT-3445008324143583_1685", "val": 0.02631578947368421}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.02631578947368421}, {"key": "CONCEPT-3445009327808083_2333", "val": 0.02631578947368421}, {"key": "CONCEPT-3445009329557250_2395", "val": 0.02631578947368421}], "right": [{"key": "and", "val": 1.0}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": [{"title": "085fe2cabb", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.02702702702702703}, {"key": "CONCEPT-3444995209782625_2", "val": 0.02702702702702703}, {"key": "CONCEPT-3445003281341500_353", "val": 0.02702702702702703}, {"key": "CONCEPT-3445009325546416_2198", "val": 0.02702702702702703}, {"key": "CONCEPT-3445009326691291_2268", "val": 0.02702702702702703}, {"key": "CONCEPT-3445010279432708_2828", "val": 0.02702702702702703}, {"key": "CONCEPT-3445010777206833_3240", "val": 0.02702702702702703}], "right": [{"key": "dog", "val": 1.0}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "dog", "val": 1.0}]], "children": [{"title": "47b4380bcd", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.04}, {"key": "CONCEPT-3444995209785708_3", "val": 0.04}, {"key": "CONCEPT-3444998428758958_60", "val": 0.04}, {"key": "CONCEPT-3445000279898000_158", "val": 0.04}, {"key": "CONCEPT-3445001644043208_264", "val": 0.04}, {"key": "CONCEPT-3445007321144708_1162", "val": 0.04}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.04}], "right": [{"key": "an", "val": 1.0}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "dog", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": [{"title": "7893976d1f", "left": [{"key": "CONCEPT-3444995209489666_1", "val": 0.037037037037037035}, {"key": "CONCEPT-3444995209785708_3", "val": 0.037037037037037035}, {"key": "CONCEPT-3444998428758958_60", "val": 0.037037037037037035}, {"key": "CONCEPT-3445000279898000_158", "val": 0.037037037037037035}, {"key": "CONCEPT-3445001644043208_264", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.037037037037037035}, {"key": "CONCEPT-3445007842259166_1474", "val": 0.037037037037037035}], "right": [{"key": "CONCEPT-3444995209489666_1", "val": 0.03571428571428571}, {"key": "CONCEPT-3444995209785708_3", "val": 0.03571428571428571}, {"key": "CONCEPT-3444998428758958_60", "val": 0.03571428571428571}, {"key": "CONCEPT-3445000279898000_158", "val": 0.03571428571428571}, {"key": "CONCEPT-3445001644043208_264", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007840903708_1397", "val": 0.03571428571428571}, {"key": "CONCEPT-3445007842259166_1474", "val": 0.03571428571428571}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "and", "val": 1.0}]], "children": [{"title": "f2a821753a", "left": [{"key": "and", "val": 1.0}], "right": [{"key": "an", "val": 1.0}], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "earring", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": [{"title": "9a89dac742", "left": [{"key": "and", "val": 1.0}], "right": [], "before": [[{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}], [{"key": "a", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": []}, {"title": "91f319ee33", "left": [{"key": "an", "val": 1.0}], "right": [], "before": [[{"key": "and", "val": 1.0}], [{"key": "helps", "val": 1.0}], [{"key": "light", "val": 1.0}]], "after": [[{"key": "earring", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}]], "children": []}]}, {"title": "2f4ce1f56a", "left": [{"key": "earring", "val": 1.0}], "right": [{"key": "runs", "val": 1.0}], "before": [[{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "and", "val": 1.0}]], "children": [{"title": "531a1ae39b", "left": [{"key": "earring", "val": 1.0}], "right": [], "before": [[{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "helps", "val": 1.0}]], "after": [[{"key": "runs", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "dog", "val": 1.0}]], "children": []}, {"title": "deee1dc38c", "left": [{"key": "runs", "val": 1.0}], "right": [], "before": [[{"key": "earring", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "and", "val": 1.0}]], "after": [[{"key": "an", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "and", "val": 1.0}]], "children": []}]}]}, {"title": "a2f00f1332", "left": [{"key": "an", "val": 1.0}], "right": [], "before": [[{"key": "runs", "val": 1.0}], [{"key": "earring", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "dog", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "a", "val": 1.0}]], "children": []}]}, {"title": "de43c5e4b7", "left": [{"key": "dog", "val": 1.0}], "right": [], "before": [[{"key": "an", "val": 1.0}], [{"key": "runs", "val": 1.0}], [{"key": "earring", "val": 1.0}]], "after": [[{"key": "and", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "dog", "val": 1.0}]], "children": []}]}, {"title": "c0f172b7e1", "left": [{"key": "and", "val": 1.0}], "right": [], "before": [[{"key": "dog", "val": 1.0}], [{"key": "an", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "after": [[{"key": "a", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": []}]}, {"title": "bb0b699a25", "left": [{"key": "a", "val": 1.0}], "right": [], "before": [[{"key": "and", "val": 1.0}], [{"key": "dog", "val": 1.0}], [{"key": "an", "val": 1.0}]], "after": [[{"key": "dog", "val": 1.0}], [{"key": "runs", "val": 1.0}]], "children": []}]}]}, {"title": "33d7585535", "left": [{"key": "dog", "val": 1.0}], "right": [{"key": "runs", "val": 1.0}], "before": [[{"key": "a", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "dog", "val": 1.0}]], "after": [[], [], []], "children": [{"title": "dba9dff9f6", "left": [{"key": "dog", "val": 1.0}], "right": [], "before": [[{"key": "a", "val": 1.0}], [{"key": "and", "val": 1.0}], [{"key": "dog", "val": 1.0}]], "after": [[{"key": "runs", "val": 1.0}]], "children": []}, {"title": "4c1b77d52d", "left": [{"key": "runs", "val": 1.0}], "right": [], "before": [[{"key": "dog", "val": 1.0}], [{"key": "a", "val": 1.0}], [{"key": "and", "val": 1.0}]], "after": [], "children": []}]}]}]}]};
    const nodeW  = 280;
    const nodeH  = 130;
    const hGap   = 80;
    const vGap   = 150;

    const root = d3.hierarchy(data);
    const layout = d3.tree().nodeSize([nodeW + hGap, nodeH + vGap]);
    layout(root);

    // compute bounds
    let x0 = Infinity, x1 = -Infinity, y0 = Infinity, y1 = -Infinity;
    root.each(d => {
        if (d.x < x0) x0 = d.x;
        if (d.x > x1) x1 = d.x;
        if (d.y < y0) y0 = d.y;
        if (d.y > y1) y1 = d.y;
    });
    const width  = x1 - x0 + nodeW + 320;
    const height = y1 - y0 + nodeH + 320; // THIS IS THE HEIGHT MODIFIER

    const svg = d3.select("#tree").append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("viewBox", [x0 - nodeW/2, y0 - nodeH/2, width, height].join(" "));

    const g = svg.append("g");

    // links
    g.selectAll("path.link")
    .data(root.links())
    .join("path")
    .attr("class", "link")
    .attr("d", d3.linkVertical().x(d => d.x).y(d => d.y));

    // nodes
    const node = g.selectAll("g.node")
    .data(root.descendants())
    .join("g")
    .attr("transform", d => `translate(${d.x},${d.y})`);

    // node rect
    node.append("rect")
    .attr("class", "node-box")
    .attr("x", -nodeW/2)
    .attr("y", 0)
    .attr("width", nodeW)
    .attr("height", nodeH);

    // node HTML via foreignObject
    node.append("foreignObject")
    .attr("class", "node-fo")
    .attr("x", -nodeW/2 + 6)
    .attr("y", 6)
    .attr("width", nodeW - 12)
    .attr("height", 1000)
    .html(d => nodeHTML(d.data));

    // shrink foreignObjects to actual content height
    node.selectAll("foreignObject").each(function() {
    const fo = d3.select(this);
    const div = fo.select("div").node();
    const h = div.getBoundingClientRect().height + 6;
    fo.attr("height", h);
    d3.select(this.parentNode).select("rect").attr("height", h + 12);
    });

    function nodeHTML(d) {
        const ctxTable = (ctx, title) => {
            if (!ctx || ctx.length === 0) return `<div class="subtable"><i>${title}: empty</i></div>`;
            const rows = ctx.map(kv => `<tr><td>${kv.key}</td><td>${kv.val.toFixed(2)}</td></tr>`).join("");
            return `<div class="subtable"><b>${title}</b><table><tbody>${rows}</tbody></table></div>`;
        };
        const ctxTablesMultiple = (arr, base) => {
            if (!arr || arr.length === 0) return `<div class="subtable"><i>${base}: empty</i></div>`;
            // if arr is already a single aggregated ctx-list (array of key/val objects), render one table
            if (Array.isArray(arr) && arr.length > 0 && arr[0] && typeof arr[0].key !== 'undefined') {
                return ctxTable(arr, base);
            }
            let out = "";
            arr.forEach((ctx, i) => { out += ctxTable(ctx, `${base}${i}`); });
            return out;
        };

        // content: left and right are now lists of {key, val}
        let contentHTML = "";
        const leftHas = Array.isArray(d.left) && d.left.length > 0;
        const rightHas = Array.isArray(d.right) && d.right.length > 0;

        if (rightHas) {
            // composite-style node: show both left and right content tables
            contentHTML = `<div class="section">${ctxTable(d.left, "Content-Left")}${ctxTable(d.right, "Content-Right")}</div>`;
        } else if (leftHas) {
            // primitive or single-sided composite: show a single content table
            // label it "Content" for primitives
            const label = (d.right && d.right.length > 0) ? "Content-Left" : "Content";
            contentHTML = `<div class="section">${ctxTable(d.left, label)}</div>`;
        } else {
            contentHTML = `<div class="section"><i>Content: empty</i></div>`;
        }

        return `
        <div class="node-fo">
            <table><tr><th colspan="2">${d.title}</th></tr></table>
            ${contentHTML}
            ${ctxTablesMultiple(d.before, "Context-Before")}
            ${ctxTablesMultiple(d.after,  "Context-After")}
        </div>`;
    }

    </script>
    </body>
    </html>
    